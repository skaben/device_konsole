!function(e){function t(t){for(var n,r,o=t[0],a=t[1],s=0,c=[];s<o.length;s++)r=o[s],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&c.push(i[r][0]),i[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(u&&u(t);c.length;)c.shift()()}var n={},r={0:0},i={0:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{1:1}[e]&&t.push(r[e]=new Promise((function(t,n){for(var i="css/"+e+".css",a=o.p+i,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=(h=s[c]).getAttribute("data-href")||h.getAttribute("href");if("stylesheet"===h.rel&&(u===i||u===a))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){var h;if((u=(h=l[c]).getAttribute("data-href"))===i||u===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var i=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete r[e],f.parentNode.removeChild(f),n(o)},f.href=a,document.getElementsByTagName("head")[0].appendChild(f)})).then((function(){r[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=a);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(e){return o.p+"js/"+e+".bundle.js"}(e);var u=new Error;s=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,n[1](u)}i[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=s;o(o.s=11)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){e.exports=n(12)},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,c,"next",e)}function c(e){n(a,i,o,s,c,"throw",e)}s(void 0)}))}}},function(e,t,n){var r=n(13),i=n(14),o=n(8),a=n(15);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s="http://127.0.0.1:5000",c=new URL("/api",s);function u(e){return l.apply(this,arguments)}function l(){return(l=a()(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=a()(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(n=e.sent,e.prev=3,n.ok){e.next=6;break}throw n.status;case 6:return e.next=9,n.json();case 9:return r=e.sent,e.abrupt("return",r);case 13:e.prev=13,e.t0=e.catch(3),console.error("ERROR: ".concat(e.t0));case 16:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(7);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){},function(e,t,n){var r=n(16),i=n(17),o=n(8),a=n(18);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},function(e,t,n){n(25),n(24),n.e(1).then(n.t.bind(null,26,7)),Promise.resolve().then(n.t.bind(null,9,7)),window.addEventListener("contextmenu",(function(e){e.preventDefault()}))},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function h(){}function f(){}function d(){}var v={};v[i]=function(){return this};var m=Object.getPrototypeOf,p=m&&m(m(L([])));p&&p!==t&&n.call(p,i)&&(v=p);var y=d.prototype=h.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=y.constructor=d,d.constructor=f,f.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),w.prototype[o]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(y),s(y,a,"Generator"),y[i]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r=n(7);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(6);["gamewin","gamelose","userinput"].forEach((function(e){window.addEventListener(e,a()(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.c)({event:e});case 2:t.sent;case 3:case"end":return t.stop()}}),t)}))))}))},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(4),c=n.n(s),u=n(5),l=n.n(u),h=n(3),f=n.n(h),d=n(0),v=n.n(d),m=n(10),p=n.n(m);function y(e,t){return Array(t-e+1).fill().map((function(t,n){return e+n}))}function g(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function w(e){return e[Math.floor(Math.random()*e.length)]}function b(e,t){return Object.fromEntries(e.map((function(n,r){return[e[r],t[r]]})))}var k=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.text,i=n.name,o=void 0===i?"typewriter":i,a=n.speed,s=void 0===a?25:a,u=n.delay,l=void 0===u?M:u,h=n.onComplete;c()(this,e),v()(this,"punctuation","[.,/#!$%^&*;:{}=-_`~()]".split("")),v()(this,"overall",void 0),v()(this,"totalTime",void 0),v()(this,"spedUp",1),this.name=o,this.speed=s,this.delay=l,this.onComplete=h,this.target=t,this.content=this.initialize(r||this.target.textContent),this.totalTime=this.delay+this.overall,this.initEventListeners()}var t;return l()(e,[{key:"initialize",value:function(e){var t=this;return this.overall=0,this.output=e.trim().split(""),this.output.reduce((function(e,n,r){var i=t.speed;return t.punctuation.includes(n)&&(i=t.speed/2)," "===n&&(i=0),t.overall+=i,e[r]=[n,t.overall],e}),{})}},{key:"initEventListeners",value:function(){var e=this;document.addEventListener("keyup",(function(t){[" ","Enter"].includes(t.key)&&(e.spedUp-=.2,e.spedUp<0&&(e.spedUp=0))}))}},{key:"print",value:(t=a()(i.a.mark((function e(){var t,n,r,o,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.target.textContent="",e.next=3,new Promise((function(e){return setTimeout(e,a.delay)}));case 3:for(t=function(){var e=r[n];e[1]=Math.round(e[1]*a.spedUp),setTimeout((function(){a.target.textContent+=e[0]}),e[1])},n=0,r=Object.values(this.content);n<r.length;n++)t();return o=function(){a.onComplete&&a.onComplete()},e.next=8,new Promise((function(){return setTimeout(o,a.overall)}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"remove",value:function(){this.element.remove()}},{key:"destroy",value:function(){this.remove()}}]),e}(),E=(n(19),function(){function e(t){var n=this,r=t.words,i=t.tries,o=t.password,a=t.timeout,s=t.chance;c()(this,e),v()(this,"textScreenCount",2),v()(this,"textScreenRowCount",16),v()(this,"textScreenRowLength",16),v()(this,"garbageChars",["~","@","#","$","%","^","&","*","_","+","-","=","?","|",".",",","!"]),v()(this,"leftBrackets",["(","[","{"]),v()(this,"rightBrackets",[")","]","}"]),v()(this,"wordRanges",{}),v()(this,"serviceLog",[]),v()(this,"gameWin",(function(){return n.dispatchEvent(n.element,"gamewin")})),v()(this,"gameLose",(function(){return n.dispatchEvent(n.element,"gamelose")})),v()(this,"onHover",(function(e){n.subElements.cli.innerHTML="";var t=e.target.closest(".char");if(t){var r=n.checkChar(t);r.chars.forEach((function(e){e.classList.add("highlighted"),e.removeEventListener(e,n.onHoverEnd)})),r.word&&(n.subElements.cli.textContent=r.word,n.subElements.cursor.classList.add("blinking"))}})),v()(this,"onHoverEnd",(function(e){n.subElements.cli.innerHTML="";var t=e.target.closest(".char");if(t){var r=n.checkChar(t);r.chars.forEach((function(e){e.classList.remove("highlighted"),e.removeEventListener(e,n.onHover)})),r.word&&n.subElements.cursor.classList.remove("blinking")}})),v()(this,"onClick",(function(e){var t=e.target.closest(".char");if(t){var r=n.checkChar(t);if(r.word)if(n.wordRanges[r.word]=[],r.chars.forEach(n.makeDot),r.word===n.password)n.subElements.status.textContent="WINNED",n.addServiceRow("ACCESS GRANTED!"),setTimeout(n.gameWin,1e3);else{var i=n.compareWithPassword(r.word);n.addServiceRow("".concat(r.word," [").concat(i,"/").concat(n.wordLength,"]")),n.triesUpdate(n.tries-1)}if(r.cheat){r.chars.forEach(n.makeDot);var o=g(0,100);if(o<=n.cheatRestore)n.triesRestore(),n.addServiceRow("TRIES RESTORED!");else if(o<=n.cheatRemove){var a=w(n.dummyWords);y.apply(void 0,f()(n.wordRanges[a])).forEach((function(e){n.makeDot(n.subElements[e])})),n.wordRanges[a]=[],n.addServiceRow("DUD REMOVED!")}}}})),v()(this,"makeDot",(function(e){e.textContent=".",n.textField[e.dataset.element]=".",e.classList.remove("highlighted"),e.removeEventListener(e,n.onHover)})),this.password=o,this.words=r.concat(o),this.dummyWords=r,this.tries=i||4,this.timeout=a||0,this.chance=s,this.wordNumber=this.words.length,this.wordLength=this.words[0].length,this.alphas=this.words.join(""),this.fieldSize=this.textScreenRowCount*this.textScreenRowLength*this.textScreenCount,this.leftOpposites=b(this.leftBrackets,this.rightBrackets),this.rightOpposites=b(this.rightBrackets,this.leftBrackets),this.cheats=this.leftBrackets.concat(this.rightBrackets),this.triesAtStart=this.tries,this.cheatRestore=Math.floor(s/5),this.cheatRemove=s,this.textField=this.getTextField(),this.content=this.getContent(),this.render(),this.initEventListeners()}return l()(e,[{key:"initEventListeners",value:function(){this.element.addEventListener("pointerover",this.onHover),this.element.addEventListener("pointerout",this.onHoverEnd),this.element.addEventListener("pointerdown",this.onClick)}},{key:"triesUpdate",value:function(e){this.tries=e,this.subElements.tries.textContent="*".repeat(e),this.tries<=0&&(this.subElements.status.textContent="FAILED",this.addServiceRow("ACCESS DENIED!"))}},{key:"triesRestore",value:function(){this.triesUpdate(this.triesAtStart)}},{key:"compareWithPassword",value:function(e){return(t=e.split(""),n=this.password.split(""),t.filter((function(e){return n.includes(e)}))).length;var t,n}},{key:"addServiceRow",value:function(e){var t='<div class="service__row">'.concat(e,"</div>");this.serviceLog.unshift(t),this.subElements.log.innerHTML=this.serviceLog.join("")}},{key:"checkChar",value:function(e){if(e){var t={chars:[e]};return this.cheats.includes(e.textContent)?t=this.checkCharIsCheat(e):this.alphas.includes(e.textContent)&&(t=this.checkCharIsWord(e)),t}}},{key:"checkCharIsWord",value:function(e){var t=this,n=this.checkCharInRange(e.dataset.element);if(n.length>0)return{chars:y.apply(void 0,f()(n[1])).map((function(e){return t.subElements[e]})),word:n[0]}}},{key:"checkCharInRange",value:function(e){return Object.entries(this.wordRanges).reduce((function(t,n){var r=f()(n),i=(r[0],r[1]);return e>=i[0]&&e<=i[1]&&(t=n),t}),[])}},{key:"checkCharIsCheat",value:function(e){var t,n=this,r=parseInt(e.dataset.element,10),i=Math.floor(r/this.textScreenRowLength)*this.textScreenRowLength,o=i+this.textScreenRowLength-2,a=[],s="",c=0,u=0,l=[r];this.leftBrackets.includes(e.textContent)?(a=Object.entries(this.textField).slice(r,o),s=this.leftOpposites[e.textContent],c=1):this.rightBrackets.includes(e.textContent)&&(a=Object.entries(this.textField).slice(i,r+1).reverse(),s=this.rightOpposites[e.textContent],u=1);for(var h=0,f=Object.values(a);h<f.length;h++){var d=p()(f[h],2),v=d[0],m=d[1];if(m===s&&v!==r){l.push(parseInt(v,10)+c),l[0]+=u,l.sort();break}if(this.alphas.includes(m))break}return l.length>1?{chars:(t=Object.keys(this.subElements)).slice.apply(t,l).map((function(e){return n.subElements[e]})),cheat:!0}:{chars:[e]}}},{key:"getTextField",value:function(){var e=this,t=this.wordLength*this.wordNumber,n=Array(this.fieldSize-t).fill("").map((function(){return g(0,100)<=e.chance?w(e.cheats):w(e.garbageChars)}));this.setWordPositions().forEach((function(t,r){n.splice(t,0,e.words[r])}));var r=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}(n);return this.getWordRanges(r),Object.assign({},r.join(""))}},{key:"setWordPositions",value:function(){for(var e=[],t=this.fieldSize/this.wordNumber,n=0;n<this.wordNumber;n++)e.push(g(n*t,(n+1)*t-2-this.wordLength));return e}},{key:"getWordRanges",value:function(e){var t=this,n=e.filter((function(e){return t.words.includes(e)})),r=this.wordLength-1;n.forEach((function(n,i){var o=e.findIndex((function(e){return e===n}))+i*r,a=o+r;t.wordRanges[n]=[o,a]}))}},{key:"getRowIndexes",value:function(){var e=g(4096,65022),t=this.textScreenRowCount*this.textScreenCount;return Array(t).fill(0).map((function(t,n,r){return"0x".concat((0===n?e:e+16*n).toString(16).toUpperCase())}))}},{key:"getContent",value:function(){var e=this,t=this.getRowIndexes(),n=function(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}(Object.entries(this.textField),this.textScreenRowLength).map((function(n,r){return e.getRowTemplate(t[r],n)}));return{left:n.splice(0,this.textScreenRowCount).join(""),right:n.join("")}}},{key:"getRowTemplate",value:function(e,t){var n=f()(t).map((function(e){var t=f()(e),n=t[0],r=t[1];return'<span class="char" data-element="'.concat(n,'">').concat(r,"</span>")})).join("");return'\n      <div class="row">\n        <span class="row__index">'.concat(e,'</span>\n        <span class="row__content">').concat(n,"</span>\n      </div>\n    ")}},{key:"render",value:function(){var e=document.createElement("div");return e.innerHTML=this.template,this.element=e.firstElementChild,this.subElements=this.getSubElements(this.element),this.initEventListeners(),this.element}},{key:"getSubElements",value:function(e){var t=e.querySelectorAll("[data-element]");return f()(t).reduce((function(e,t){return e[t.dataset.element]=t,e}),{})}},{key:"show",value:function(e){(e||document.body).append(this.element)}},{key:"destroy",value:function(){this.remove()}},{key:"remove",value:function(){this.element.remove()}},{key:"template",get:function(){return'\n    <div class="interface">\n      <div class="interface_header" data-element="header">\n        <p> TRIES LEFT: <span data-element="tries">'.concat("*".repeat(this.tries),'</span></p>\n      </div>\n      <div class="interface_content">\n        <div class="content">').concat(this.content.left,'</div>\n        <div class="content">').concat(this.content.right,'</div>\n        <div class="content content_service">\n          <div class="content_service__log" data-element="log"></div>\n          <div class="content_service__cli">\n            <span class="cli-cursor" data-element="cursor">>> </span>\n            <span data-element="cli"></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    ')}}]),e}());function x(e,t,n){if(!e.s){if(n instanceof L){if(!n.s)return void(n.o=x.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(x.bind(null,e,t),x.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var L=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var o=1&i?t:n;if(o){try{x(r,1,o(this.v))}catch(e){x(r,2,e)}return r}return this}return this.o=function(e){try{var i=e.v;1&e.s?x(r,1,t?t(i):i):n?x(r,1,n(i)):x(r,2,i)}catch(e){x(r,2,e)}},r},e}();var S=function(){function e(t,n,r){c()(this,e),this.message=n||"!! terminal configuration failed, call system administator !!",this.barName=t,this.navigation=r,this.render()}return l()(e,[{key:"render",value:function(){var e=document.createElement("div");return e.innerHTML=this.template,this.subElements=this.getSubElements(e),this.element=e.firstElementChild,this.element}},{key:"show",value:function(e){(e||document.body).append(this.element)}},{key:"remove",value:function(){this.element.remove()}},{key:"destroy",value:function(){this.remove()}},{key:"getSubElements",value:function(e){var t=e.querySelectorAll("[data-element]");return f()(t).reduce((function(e,t){return e[t.dataset.element]=t,e}),{})}},{key:"template",get:function(){return'\n        <div class="'.concat(this.barName,'">\n          <div class="').concat(this.barName,'__main" data-element="main">').concat(this.message,'</div>\n          <div class="').concat(this.barName,'__nav" data-element="nav">').concat(this.nav,"</div>\n        </div>\n      ")}},{key:"nav",get:function(){return this.navigation?Object.entries(this.navigation).map((function(e){var t=f()(e),n=t[0],r=t[1];return'<a href="'.concat(r,'">').concat(n,"</a>")})).join(""):""}}]),e}(),C=n(6),_=(n(20),{words:["BAR","DAR","VAR","KAR","ZAR","CAR","TAR"],tries:4,password:"AAR",timeout:0,chance:40,text_header:"terminal vt40k stand-alone mode",text_footer:"uplink disabled, terminal offline"}),R=function(){function e(){c()(this,e),v()(this,"element",void 0),v()(this,"subElements",{}),v()(this,"components",{}),v()(this,"URL",new URL("/api/hack",C.a))}var t,n;return l()(e,[{key:"initComponents",value:(n=a()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.b)(this.URL);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=_;case 5:return t=e.t0,this.components.header=new S("header",t.text_header,{back:"/"}),this.components.footer=new S("footer",t.text_footer),this.components.hack=new E(t),this.assignTypewriters(),e.abrupt("return",this.components);case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"assignTypewriters",value:function(){var e=this,t=this.components.header.subElements.nav,n=function(e){return e.classList.toggle("invisible")};n(t),n(this.components.hack.element);for(var r=new k(this.components.header.subElements.main,{speed:25,onComplete:function(){return n(t)}}),i=0,o=[r,new k(this.components.footer.element,{speed:25,delay:r.delay+r.overall,onComplete:function(){return n(e.components.hack.element)}})];i<o.length;i++){o[i].print()}}},{key:"render",value:(t=a()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("div")).innerHTML=this.template,this.element=t.firstElementChild,this.subElements=this.getSubElements(this.element),e.next=6,this.initComponents();case 6:return this.renderComponents(),e.abrupt("return",this.element);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderComponents",value:function(){var e=this;Object.keys(this.components).forEach((function(t){var n=e.subElements[t];e.components[t].show(n)}))}},{key:"getSubElements",value:function(e){var t=e.querySelectorAll("[data-element]");return f()(t).reduce((function(e,t){return e[t.dataset.element]=t,e}),{})}},{key:"remove",value:function(){this.element.remove()}},{key:"destroy",value:function(){this.remove();for(var e=0,t=Object.values(this.components);e<t.length;e++){t[e].destroy()}}},{key:"template",get:function(){return'\n      <div class="page">\n        <div class="content__header" data-element="header"></div>\n        <div class="content__hack" data-element="hack"></div>\n        <div class="content__footer" data-element="footer"></div>\n      </div>\n    '}}]),e}(),j=(n(21),function(){function e(t){c()(this,e),v()(this,"subElements",{}),v()(this,"items",[]),v()(this,"testItems",[["main","test show loading screen"],["hack","test gain access by hack"],["menu","test return to main menu"]]),this.items=t||this.testItems,this.render()}return l()(e,[{key:"render",value:function(){var e=document.createElement("div");e.innerHTML=this.template,this.element=e.firstElementChild,this.subElements=this.getSubElements(this.element);var t=this.subElements[Object.keys(this.subElements)[0]];return t.addEventListener("onfocus",(function(e){return console.log(e)})),t.focus(),this.element}},{key:"show",value:function(e){(e||document.body).append(this.element)}},{key:"remove",value:function(){this.element.remove()}},{key:"destroy",value:function(){this.remove()}},{key:"getSubElements",value:function(e){var t=e.querySelectorAll("[data-element]");return f()(t).reduce((function(e,t){return e[t.dataset.element]=t,e}),{})}},{key:"rows",get:function(){return this.items.map((function(e,t){var n=f()(e),r=n[0],i=n[1];return'\n        <div class="menu__item">\n          <a href="/'.concat(r,'" data-element="link').concat(r,'" tabindex="').concat(t+1,'">').concat(i,"</a>\n        </div>\n      ")})).join("")}},{key:"template",get:function(){return'\n      <div class="menu">\n        '.concat(this.rows,"\n      </div>\n    ")}}]),e}()),O=(n(9),function(){function e(){c()(this,e),v()(this,"element",void 0),v()(this,"subElements",{}),v()(this,"components",{}),v()(this,"URL",new URL("/api/menu",C.a))}var t,n;return l()(e,[{key:"initComponents",value:(n=a()(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.b)(this.URL);case 2:return t=e.sent,n=new j(t),Object.values(n.subElements).map((function(e){return new k(e,{speed:15})})).forEach((function(e,t,n){var r=n[t-1];r&&(e.delay=r.overall+r.delay),e.print()})),this.components.menu=n,e.abrupt("return",this.components);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:(t=a()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("div")).innerHTML=this.template,this.element=t.firstElementChild,this.subElements=this.getSubElements(this.element),e.next=6,this.initComponents();case 6:return this.renderComponents(),e.abrupt("return",this.element);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderComponents",value:function(){var e=this;Object.keys(this.components).forEach((function(t){var n=e.subElements[t];e.components[t].show(n)}))}},{key:"getSubElements",value:function(e){var t=e.querySelectorAll("[data-element]");return f()(t).reduce((function(e,t){return e[t.dataset.element]=t,e}),{})}},{key:"remove",value:function(){this.element.remove()}},{key:"destroy",value:function(){this.remove();for(var e=0,t=Object.values(this.components);e<t.length;e++){t[e].destroy()}}},{key:"template",get:function(){return'\n        <div class="page">\n          <div class="content__menu" data-element="menu"></div>\n        </div>\n      '}}]),e}()),T=(n(22),function(){function e(t){c()(this,e),this.timeout=t,this.render(),this.initEventListeners()}return l()(e,[{key:"initEventListeners",value:function(){var e=this;this.element.addEventListener("pointerdown",(function(t){e.moving.classList.remove("rotate"),e.animated.classList.add("scalemove"),setTimeout((function(){return e="/menu",window.history.pushState("","page ".concat(e),e),void(window.location.href=e);var e}),50)}))}},{key:"render",value:function(){var e=document.createElement("div");return e.innerHTML=this.template,this.element=e.firstElementChild,this.animated=this.element.querySelector(".loading__svg"),this.moving=this.element.querySelector(".moving-path"),this.element}},{key:"show",value:function(e){var t=this,n=e||document.body;this.timeout&&setTimeout((function(){return e=t.element,n=new CustomEvent("loadingEnd",{cancelable:!0,bubbles:!0}),void e.dispatchEvent(n);var e,n}),this.timeout),n.append(this.element)}},{key:"remove",value:function(){this.element.remove()}},{key:"destroy",value:function(){this.remove()}},{key:"template",get:function(){return'\n        <div class="loading">\n          <svg\n             xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n             xmlns:svg="http://www.w3.org/2000/svg"\n             xmlns="http://www.w3.org/2000/svg"\n             width="100%"\n             viewBox="-50 0 300 300"\n             preserveAspectRatio="xMidYMid meet"\n             class="loading__svg animate-centered"\n             >\n            <g>\n              <path\n                 class="rotate animate-centered moving-path"\n                 d="m 111.12889,225.48471 c 0,-4.9861 0.10956,-6.6404 0.44591,-6.73175 0.24525,-0.0665 2.13145,-0.47913 4.19152,-0.91671 3.26514,-0.69356 7.57314,-1.92241 9.28895,-2.64969 0.42175,-0.17878 1.29049,1.09292 3.74561,5.48317 1.7581,3.14377 3.29052,5.7164 3.40543,5.71697 0.18145,9.1e-4 15.99402,-8.8305 16.32504,-9.11758 0.0685,-0.0593 -1.32561,-2.64714 -3.09787,-5.75059 l -3.22235,-5.64261 1.31423,-1.2163 c 4.84898,-4.48772 6.1866,-5.7915 7.83435,-7.63606 l 1.85313,-2.07455 5.71502,3.41228 c 3.14327,1.87676 5.83431,3.41141 5.98009,3.41035 0.28576,-0.002 9.84946,-16.05443 9.65629,-16.20777 -0.0639,-0.0507 -2.52422,-1.50693 -5.46723,-3.2359 -2.94301,-1.72897 -5.54386,-3.31827 -5.77968,-3.53179 -0.33034,-0.29906 -0.18669,-1.0708 0.62542,-3.36042 1.09396,-3.08404 2.59443,-8.75325 3.01359,-11.38607 l 0.24137,-1.51609 h 6.74646 6.74645 v -9.44555 -9.44557 l -6.83047,-0.0969 -6.83048,-0.0969 -0.85075,-3.81255 c -0.46792,-2.09689 -1.32499,-5.22718 -1.90461,-6.95618 -0.93394,-2.78597 -0.99137,-3.19025 -0.5046,-3.55346 0.30206,-0.22543 2.94602,-1.75044 5.87548,-3.38891 2.92946,-1.63848 5.32888,-3.07307 5.33204,-3.18795 0.005,-0.1746 -8.80759,-15.96974 -9.10195,-16.31414 -0.0534,-0.0625 -2.68626,1.34213 -5.85082,3.12135 -3.16452,1.77922 -5.83415,3.23496 -5.93244,3.23496 -0.18772,0 -10.4993,-10.44262 -10.50036,-10.6338 -3.1e-4,-0.0607 1.51473,-2.668334 3.36685,-5.794773 l 3.36746,-5.6844 -7.0239,-4.149185 c -3.86315,-2.281975 -7.53288,-4.455213 -8.15495,-4.82934 l -1.13104,-0.680242 -3.45328,5.74355 c -2.73124,4.542665 -3.57623,5.694581 -4.0415,5.509328 -2.71412,-1.080686 -8.40285,-2.764047 -11.55758,-3.420052 l -3.83483,-0.797418 v -6.895035 -6.895034 h -9.45328 -9.453249 v 6.895034 6.895035 l -3.834831,0.803979 c -2.109131,0.442198 -5.279557,1.27022 -7.045354,1.840065 -3.804254,1.227682 -2.985712,1.860828 -7.061355,-5.462068 -2.14964,-3.862344 -3.069125,-5.207176 -3.462091,-5.063803 -0.492124,0.179548 -15.716124,8.66274 -15.998823,8.914979 -0.06849,0.06107 1.336092,2.707914 3.121304,5.881849 1.785212,3.173947 3.245889,5.832721 3.245889,5.908411 0,0.0757 -2.506377,2.61237 -5.569746,5.63708 l -5.569695,5.49946 -5.388499,-3.18275 c -2.963648,-1.75052 -5.548294,-3.12947 -5.743705,-3.06434 -0.407388,0.13579 -9.464397,15.21722 -9.472041,15.77254 -0.0052,0.20123 2.402329,1.78082 5.34468,3.51019 2.942349,1.72937 5.430943,3.27577 5.530204,3.43643 0.09932,0.16068 -0.371462,1.95215 -1.046109,3.98108 -0.674644,2.02891 -1.585569,5.41461 -2.024137,7.52375 l -0.797448,3.83481 H 29.555617 22.66058 v 9.45327 9.45326 h 6.924846 6.924795 l 0.241374,1.51609 c 0.357604,2.24604 1.82842,7.98903 2.671676,10.43138 0.884173,2.5612 1.47413,1.95026 -5.788139,5.99407 -2.891139,1.60985 -5.25887,3.02517 -5.261724,3.14518 -0.0052,0.19558 8.822975,16.00736 9.111481,16.32022 0.06539,0.071 2.690887,-1.33368 5.834459,-3.12136 3.14357,-1.78769 5.85331,-3.25034 6.021717,-3.25034 0.168416,0 1.155711,1.04707 2.194024,2.32681 1.03831,1.27975 3.482116,3.83078 5.430689,5.66895 l 3.542856,3.34213 -3.431468,5.79773 c -2.796159,4.72445 -3.344233,5.87788 -2.96049,6.23068 0.710976,0.65362 15.199287,9.09587 15.610037,9.09587 0.196431,0 1.747453,-2.36779 3.446652,-5.26174 1.699248,-2.89394 3.279417,-5.46685 3.511518,-5.71759 0.339666,-0.36695 1.252577,-0.17828 4.680019,0.96726 2.341896,0.78273 5.742892,1.70362 7.557707,2.04645 l 3.299752,0.62331 v 6.70332 6.70333 h 9.453249 9.45328 z M 97.573251,202.83781 C 84.438613,201.61334 72.670744,195.72115 64.266469,186.16109 48.75289,168.51403 47.86775,142.5266 62.129465,123.41996 c 2.384799,-3.19497 7.43098,-8.09892 10.816895,-10.51199 5.344065,-3.80861 12.774641,-7.02727 19.298421,-8.35938 4.16593,-0.85065 12.681349,-1.04852 16.922079,-0.39323 18.85618,2.91373 34.23963,15.80244 39.95984,33.4796 3.21843,9.94577 3.16839,21.59591 -0.13457,31.34171 -5.1106,15.07937 -17.07683,26.85441 -32.17936,31.66517 -6.04658,1.92608 -13.2793,2.75162 -19.239529,2.19597 z"\n              />\n              <path\n                 d="m 101.20176,112.91532 c -13.774557,0.03 -26.200564,5.34772 -29.244413,20.57018 -3.595452,10.97068 5.513253,19.81677 1.789449,27.00328 -0.995186,1.71316 -0.467973,6.6172 0.470278,7.71583 2.709636,1.92354 4.506483,5.59956 5.309214,7.40255 1.087613,2.51125 2.191395,3.891 6.004514,2.2251 0.27332,-0.11216 1.385033,-0.1024 1.335208,0.64989 -1.281977,4.12053 -1.022437,8.33222 -0.983092,12.4955 0.04664,0.80537 2.601551,1.14849 2.698769,0.92165 0.769793,-1.24666 0.291157,-2.18944 0.817668,-3.31556 0.604221,-1.05931 1.410991,-0.45299 1.399011,-0.0167 0.127716,1.86257 0.207831,2.96109 1.547892,2.96109 0.378225,0.0343 0.926025,0.006 1.245409,-0.0637 0.804063,-0.17642 0.571321,-0.7423 1.098883,-2.39864 0.288799,-0.88427 1.461147,-0.75405 1.736952,-0.15362 0.480996,1.09369 -0.251995,2.67114 1.862196,2.50499 2.142512,0.0155 0.897398,-1.50776 1.715682,-2.53335 0.71408,-0.73466 1.80191,-0.44387 2.09143,0.0212 0.4699,0.81412 -0.50423,2.32768 1.5597,2.33011 1.70251,0.0585 1.08282,-1.52605 1.53374,-2.36555 0.36938,-0.64541 1.52221,-1.11767 1.87163,-0.026 0.36028,1.13336 -0.0278,2.53649 1.97562,2.48372 1.8442,-0.0226 1.52511,-1.41975 2.05364,-2.53571 0.4002,-1.01475 2.03037,-0.97366 2.10089,0.005 l 0.36864,2.7862 c -0.0318,0.36665 3.22072,-0.0906 3.29969,-0.30156 1.08734,-6.32407 -1.23484,-11.69786 -1.14209,-12.69125 0,0 0.64803,-1.34995 1.29368,-0.97525 3.31268,1.92249 5.82429,0.0806 6.6483,-1.72721 0.68398,-0.63918 3.81782,-6.30935 6.2561,-9.04643 1.07001,-2.22338 0.47479,-4.37837 -0.23895,-6.35228 -3.26053,-9.46045 2.31483,-17.15603 1.05618,-24.97116 -3.30633,-15.34206 -15.75727,-22.63181 -29.53182,-22.60188 z m -16.3125,44.56604 c 0.890623,-0.003 1.38444,0.17944 1.70859,0.29539 3.670882,1.3131 9.337377,3.95872 10.84943,5.65277 0.06062,0.23964 0.01652,0.82146 -0.803491,1.33521 -0.385637,0.24159 -7.564525,3.56129 -12.182269,3.99379 -0.697635,0.17805 -1.795372,-0.89622 -2.074887,-1.4179 -2.367973,-4.41972 -3.719828,-8.78265 2.502627,-9.85926 z m 34.35615,0.23632 c 6.22244,1.07661 4.87061,5.43718 2.50263,9.85688 -0.27952,0.5217 -1.3749,1.59832 -2.07253,1.42029 -4.61774,-0.4325 -11.79664,-3.75221 -12.18226,-3.9938 -0.82008,-0.51375 -0.86417,-1.09795 -0.80349,-1.33757 1.51204,-1.69405 7.17616,-4.33731 10.84705,-5.65041 0.32415,-0.11595 0.81796,-0.29927 1.7086,-0.29539 z m -17.28802,10.40894 c 2.18948,1.08276 3.69968,7.72942 3.67477,8.17667 -2.4e-4,0.38413 -0.44329,1.49851 -1.96619,2.1694 -0.10805,0.006 -0.13315,-0.0329 -0.18433,-0.0968 -1.09466,-1.36766 -1.08692,-1.47795 -1.56679,-1.46518 -0.27454,0.007 -0.55319,0.40448 -1.2005,1.36829 -0.10296,0.15327 -0.09,0.15428 -0.26941,0.15596 -1.207248,-0.28194 -1.998552,-1.23139 -2.292306,-2.1316 -0.108499,-0.58094 1.845691,-7.4466 3.804756,-8.17665 z"\n             />\n            </g>\n          </svg>\n        </div>\n      '}}]),e}()),A=(n(23),function(){function e(){c()(this,e),v()(this,"element",void 0),v()(this,"subElements",{}),v()(this,"components",{}),v()(this,"URL",new URL("/api/device",C.a))}var t,n;return l()(e,[{key:"initComponents",value:(n=a()(i.a.mark((function e(){var t,n,r,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.b)(this.URL);case 2:return t=e.sent,n=new S("header",t.header),r=new T(t.timeout||0),o=new S("footer",t.footer),a=new k(n.subElements.main),s=new k(o.subElements.main,{delay:a.totalTime}),a.print(),s.print(),this.components.header=n,this.components.footer=o,this.components.main=r,this.element.addEventListener("loadingEnd",(function(){return console.log("end loading")})),e.abrupt("return",this.components);case 13:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:(t=a()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("div")).innerHTML=this.template,this.element=t.firstElementChild,this.subElements=this.getSubElements(this.element),e.next=6,this.initComponents();case 6:return this.renderComponents(),e.abrupt("return",this.element);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderComponents",value:function(){var e=this;Object.keys(this.components).forEach((function(t){var n=e.subElements[t];e.components[t].show(n)}))}},{key:"getSubElements",value:function(e){var t=e.querySelectorAll("[data-element]");return f()(t).reduce((function(e,t){return e[t.dataset.element]=t,e}),{})}},{key:"remove",value:function(){this.element.remove()}},{key:"destroy",value:function(){this.remove();for(var e=0,t=Object.values(this.components);e<t.length;e++){t[e].destroy()}}},{key:"template",get:function(){return'\n      <div class="page">\n        <div class="content__header" data-element="header"></div>\n        <div class="content__main" data-element="main"></div>\n        <div class="content__footer" data-element="footer"></div>\n      </div>\n    '}}]),e}());n.e(2).then(n.bind(null,27));new Audio("../assets/sounds/screen_change.mp3");var P={hack:R,menu:O,main:A},M=500,I=function(e,t){return N.apply(this,arguments)};function N(){return(N=a()(i.a.mark((function e(t,n){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.querySelector(".screen__content")).innerHTML="<div class='content-preload'></div>",o=new(P[t]||P.loading),e.next=6,o.render();case 6:setTimeout((function(){return r.innerHTML="",r.append(o.element),o}),M);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(function(){function e(){c()(this,e),this.routes=[],this.initEventListeners()}var t,n;return l()(e,[{key:"initEventListeners",value:function(){var e=this;document.addEventListener("click",(function(t){var n=t.target.closest("a");if(n){var r=n.getAttribute("href");r&&r.startsWith("/")&&(t.preventDefault(),e.navigate(r))}}))}},{key:"route",value:(n=a()(i.a.mark((function e(){var t,n,r,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=decodeURI(window.location.pathname).replace(/^\/|\/$/,""),r=U(this.routes),e.prev=2,r.s();case 4:if((o=r.n()).done){e.next=14;break}if(a=o.value,!(n=t.match(a.pattern))){e.next=12;break}return e.next=10,this.changePage(a.path,n);case 10:return this.page=e.sent,e.abrupt("break",14);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:if(n){e.next=26;break}return e.next=25,this.changePage(this.notFoundPagePath);case 25:this.page=e.sent;case 26:document.dispatchEvent(new CustomEvent("route",{detail:{page:this.page}}));case 27:case"end":return e.stop()}}),e,this,[[2,16,19,22]])}))),function(){return n.apply(this,arguments)})},{key:"changePage",value:(t=a()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.page&&this.page.destroy&&this.page.destroy(),e.abrupt("return",I(t,n));case 2:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"navigate",value:function(e){history.pushState(null,null,e),this.route()}},{key:"addRoute",value:function(e,t){return this.routes.push({pattern:e,path:t}),this}},{key:"setNotFoundPagePath",value:function(e){return this.notFoundPagePath=e,this}},{key:"listen",value:function(){var e=this;window.addEventListener("popstate",(function(){return e.route()})),this.route()}}],[{key:"instance",value:function(){return this._instance||(this._instance=new e),this._instance}}]),e})().instance().addRoute(/^$/,"main").addRoute(/^menu$/,"menu").addRoute(/^hack$/,"hack").addRoute(/^404\/?$/,"main").setNotFoundPagePath("main").listen()}]);